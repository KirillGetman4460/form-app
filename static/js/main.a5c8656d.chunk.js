(this["webpackJsonpform-app"]=this["webpackJsonpform-app"]||[]).push([[0],{37:function(e,s,a){},38:function(e,s,a){"use strict";a.r(s);var r=a(0),t=a(18),l=a.n(t),i=a(11),n=a(1),c=function(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)(i.c,{to:"/login",className:"link ",activeClassName:"active__link",children:"Login"}),Object(n.jsx)(i.c,{to:"/register",className:"link ",activeClassName:"active__link",children:"Register"})]})},o=a(7),d=a(5),j=a(20),m=a(4),u=a(13),b=function(){var e,s,a,t,l,i,c,b,p,_=Object(j.a)(),O=_.register,h=_.handleSubmit,g=_.formState.errors,v=Object(u.b)(),x=Object(r.useState)(JSON.parse(localStorage.getItem("user"))),N=Object(d.a)(x,2),y=N[0],w=(N[1],Object(r.useState)(!1)),f=Object(d.a)(w,2),q=f[0],S=f[1],k=Object(m.g)();return Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)("h1",{className:"title",children:"Login"}),Object(n.jsxs)("form",{id:"hook-form",onSubmit:h((function(e){if(y){if(e.name===y.name&&e.password===y.password)return S(!1),v({type:"active_user",payload:!0}),void k.push("/user");v({type:"active_user",payload:!1})}S(!0)})),className:"login__form",children:[Object(n.jsxs)("label",{className:"login__name__label",children:[Object(n.jsx)("input",Object(o.a)({type:"text",placeholder:"Full Name",className:"required"===(null===(e=g.name)||void 0===e?void 0:e.type)?"login__name__empty":null},O("name",{required:!0,pattern:/^[A-Za-z]+$/i}))),"required"===(null===(s=g.name)||void 0===s?void 0:s.type)&&Object(n.jsx)("span",{className:"error__message",children:"Name is required"}),"pattern"===(null===(a=g.name)||void 0===a?void 0:a.type)&&Object(n.jsx)("span",{className:"error__message",children:"English only and characters only"}),q?Object(n.jsx)("span",{className:"error__message",children:"The username or password you entered is incorrect"}):null]}),Object(n.jsxs)("label",{className:"login__email__label",children:[Object(n.jsx)("input",Object(o.a)(Object(o.a)({},O("email",{pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,required:!0})),{},{placeholder:"Email Address",className:"required"===(null===(t=g.name)||void 0===t?void 0:t.type)?"login__email__empty":null})),"required"===(null===(l=g.email)||void 0===l?void 0:l.type)&&Object(n.jsx)("span",{className:"error__message",children:"Email is required"}),"pattern"===(null===(i=g.email)||void 0===i?void 0:i.type)&&Object(n.jsx)("span",{className:"error__message",children:"English only and characters only"})]}),Object(n.jsxs)("label",{className:"login__password__label",children:[Object(n.jsx)("input",Object(o.a)(Object(o.a)({},O("password",{minLength:8,required:!0})),{},{placeholder:"Password",type:"password",className:"required"===(null===(c=g.password)||void 0===c?void 0:c.type)?"login__password__empty":null})),"required"===(null===(b=g.password)||void 0===b?void 0:b.type)&&Object(n.jsx)("span",{className:"error__message",children:"Password is required"}),"minLength"===(null===(p=g.password)||void 0===p?void 0:p.type)&&Object(n.jsx)("span",{className:"error__message",children:"Min length password 8"}),q?Object(n.jsx)("span",{className:"error__message",children:"Wrong password"}):null]}),Object(n.jsx)("button",{type:"submit",form:"hook-form",className:"login__btn__submit",children:"Login"})]})]})},p=function(){return Object(n.jsxs)("div",{className:"regiter__message",children:[Object(n.jsx)("span",{className:"register__message__title",children:"You have successfully Registered"}),Object(n.jsx)(i.b,{to:"/login",className:"register__message__bnt",children:"OK"})]})},_=function(){var e,s,a,t,l,i,c,m,b,_,O,h=Object(u.b)(),g=Object(j.a)(),v=g.register,x=g.handleSubmit,N=g.formState.errors,y=Object(r.useState)(!1),w=Object(d.a)(y,2),f=w[0],q=w[1],S=Object(r.useState)(!1),k=Object(d.a)(S,2),E=k[0],L=k[1],I=Object(r.useState)(""),J=Object(d.a)(I,2),P=J[0],C=J[1];return Object(n.jsx)("div",{className:"login",children:E?Object(n.jsx)(p,{}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"title",children:"Register"}),Object(n.jsxs)("form",{id:"hook-form",onSubmit:x((function(e){L(!0),h({type:"set_user",payload:e})})),className:"login__form",children:[Object(n.jsxs)("label",{className:"login__name__label",children:[Object(n.jsx)("input",Object(o.a)({type:"text",placeholder:"Full Name",className:"required"===(null===(e=N.name)||void 0===e?void 0:e.type)?"login__name__empty":null},v("name",{required:!0,pattern:/^[A-Za-z]+$/i}))),"required"===(null===(s=N.name)||void 0===s?void 0:s.type)&&Object(n.jsx)("span",{className:"error__message",children:"Name is required"}),"pattern"===(null===(a=N.name)||void 0===a?void 0:a.type)&&Object(n.jsx)("span",{className:"error__message",children:"English only and characters only"})]}),Object(n.jsxs)("label",{className:"login__email__label",children:[Object(n.jsx)("input",Object(o.a)(Object(o.a)({},v("email",{pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,required:!0})),{},{placeholder:"Email Address",className:"required"===(null===(t=N.name)||void 0===t?void 0:t.type)?"login__email__empty":null})),"required"===(null===(l=N.email)||void 0===l?void 0:l.type)&&Object(n.jsx)("span",{className:"error__message",children:"Email is required"}),"pattern"===(null===(i=N.email)||void 0===i?void 0:i.type)&&Object(n.jsx)("span",{className:"error__message",children:"English only and characters only"})]}),Object(n.jsxs)("label",{className:"login__password__label",children:[Object(n.jsx)("input",Object(o.a)(Object(o.a)({},v("password",{minLength:8,required:!0})),{},{placeholder:"Password",type:"password",onChange:function(e){return C(e.target.value)},className:"required"===(null===(c=N.password)||void 0===c?void 0:c.type)?"login__password__empty":null})),"required"===(null===(m=N.password)||void 0===m?void 0:m.type)&&Object(n.jsx)("span",{className:"error__message",children:"Password is required"}),"minLength"===(null===(b=N.password)||void 0===b?void 0:b.type)&&Object(n.jsx)("span",{className:"error__message",children:"Min length password 8"})]}),Object(n.jsxs)("label",{className:"login__repeat__label",children:[Object(n.jsx)("input",Object(o.a)(Object(o.a)({},v("confirmPassword",{minLength:8,required:!0,validate:function(e){q(e!==P)}})),{},{placeholder:"Confirm password",type:"password",className:"required"===(null===(_=N.password)||void 0===_?void 0:_.type)?"login__password__empty":null})),"required"===(null===(O=N.confirmPassword)||void 0===O?void 0:O.type)&&Object(n.jsx)("span",{className:"error__message",children:"Confirm password is required"}),f?Object(n.jsx)("span",{className:"error__message",children:"Password mismatch"}):null]}),Object(n.jsx)("button",{type:"submit",form:"hook-form",className:"login__btn__submit",children:"Register"})]})]})})},O=function(){var e=Object(r.useState)(JSON.parse(localStorage.getItem("user"))),s=Object(d.a)(e,2),a=s[0],t=(s[1],Object(m.g)()),l=Object(u.b)();return Object(n.jsx)("div",{className:"user",children:a?Object(n.jsxs)("div",{className:"user__conteiner",children:[Object(n.jsxs)("span",{className:"user__title",children:["User name : ",a.name]}),Object(n.jsxs)("span",{className:"user__email",children:["User email : ",a.email]}),Object(n.jsx)("button",{className:"logout__bnt",onClick:function(){return t.push("/login"),l({type:"logout_user"}),void t.go(0)},children:"log out"})]}):null})},h=function(){var e=JSON.parse(localStorage.getItem("user"));return Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("div",{className:"conteiner",children:Object(n.jsx)("div",{className:"content",children:Object(n.jsxs)(i.a,{children:[Object(n.jsx)(c,{}),Object(n.jsxs)(m.d,{children:[Object(n.jsx)(m.b,{exact:!0,path:"/",children:Object(n.jsx)(m.a,{to:"/login"})}),Object(n.jsx)(m.b,{path:"/login",children:e?Object(n.jsx)(m.a,{to:"/user"}):Object(n.jsx)(b,{})}),Object(n.jsx)(m.b,{path:"/register",children:Object(n.jsx)(_,{})}),Object(n.jsx)(m.b,{path:"/user",children:Object(n.jsx)(O,{})})]})]})})})})},g=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(h,{})})},v=(a(37),a(25)),x={user:JSON.parse(localStorage.getItem("user"))||{},activeUser:!1},N=Object(v.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"set_user":return{state:e,user:localStorage.setItem("user",JSON.stringify(s.payload))};case"logout_user":return{state:e,user:localStorage.removeItem("user")};case"active_user":return{state:e,activeUser:e.activeUser=s.payload};default:return e}})),y=N;l.a.render(Object(n.jsx)(u.a,{store:y,children:Object(n.jsx)(g,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.a5c8656d.chunk.js.map